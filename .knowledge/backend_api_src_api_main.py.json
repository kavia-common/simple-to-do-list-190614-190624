{"is_source_file": true, "format": "Python", "description": "Main backend API implementation for task management, including endpoints for health check, task CRUD operations, pagination, search, and status toggling, using FastAPI and SQLAlchemy.", "external_files": [".database", ".models", ".schemas"], "external_methods": ["get_db", "Task.title.ilike", "TaskStatus", "Base.metadata.create_all", "db.execute", "db.get", "db.add", "db.commit", "db.refresh", "db.delete", "task.touch"], "published": ["app"], "classes": [{"name": "PaginatedTasks", "description": "Schema for paginated list of tasks, including total count and list of TaskOut objects."}, {"name": "TaskCreate", "description": "Schema for creating a new task, containing title, description, and status."}, {"name": "TaskOut", "description": "Schema for returning task data to clients, including id, title, description, status, created_at, and updated_at."}, {"name": "TaskUpdate", "description": "Schema for updating a task partially, with optional fields."}], "methods": [{"name": "health_check()", "description": "Health check endpoint returning a simple message indicating service health.", "scope": "", "scopeKind": ""}, {"name": "list_tasks( page: int = Query(1, ge=1, description=\"1-based page number\"), page_size: int = Query(10, ge=1, le=100, description=\"Items per page\"), q: Optional[str] = Query(None, description=\"Optional search by title substring (case-insensitive)\"), db: Session = Depends(get_db), )", "description": "List tasks with support for pagination and optional search query.", "scope": "", "scopeKind": ""}, {"name": "create_task(payload: TaskCreate, db: Session = Depends(get_db))", "description": "Create a new task in the database.", "scope": "", "scopeKind": ""}, {"name": "get_task(task_id: int, db: Session = Depends(get_db))", "description": "Retrieve a task by its ID.", "scope": "", "scopeKind": ""}, {"name": "update_task(task_id: int, payload: TaskCreate, db: Session = Depends(get_db))", "description": "Replace an existing task completely with new data.", "scope": "", "scopeKind": ""}, {"name": "delete_task(task_id: int, db: Session = Depends(get_db))", "description": "Delete a task by its ID.", "scope": "", "scopeKind": ""}, {"name": "patch_task(task_id: int, payload: TaskUpdate, db: Session = Depends(get_db))", "description": "Partially update fields of a task.", "scope": "", "scopeKind": ""}, {"name": "toggle_task_status(task_id: int, db: Session = Depends(get_db))", "description": "Switch task status between pending and completed.", "scope": "", "scopeKind": ""}, {"name": "None on_startup()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["Base.metadata.create_all", "select(Task)", "select(func.count())", "db.execute", "db.get", "db.add", "db.commit", "db.refresh", "db.delete", "task.touch"], "search-terms": ["FastAPI", "Task CRUD", "pagination", "search", "status toggle", "CORS Middleware", "SQLAlchemy ORM", "Health endpoint", "Task status", "Task model", "API endpoints"], "state": 2, "file_id": 2, "knowledge_revision": 14, "git_revision": "df8cf5b53638e6b764d0a155181adf1938d7b951", "revision_history": [{"7": "b80585e73feb1bf0cb5a4f6ccdf9b6e1b20c7b8a"}, {"14": "df8cf5b53638e6b764d0a155181adf1938d7b951"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def create_task(payload: TaskCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: TaskCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def delete_task(task_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(task_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def get_task(task_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(task_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_tasks", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def list_tasks($/", "language": "Python", "kind": "function", "signature": "( page: int = Query(1, ge=1, description=\"1-based page number\"), page_size: int = Query(10, ge=1, le=100, description=\"Items per page\"), q: Optional[str] = Query(None, description=\"Optional search by title substring (case-insensitive)\"), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "on_startup", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def on_startup() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "patch_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def patch_task(task_id: int, payload: TaskUpdate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(task_id: int, payload: TaskUpdate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "toggle_task_status", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def toggle_task_status(task_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(task_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "update_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-190614-190624/backend_api/src/api/main.py", "pattern": "/^def update_task(task_id: int, payload: TaskCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(task_id: int, payload: TaskCreate, db: Session = Depends(get_db))"}], "hash": "204b8ad9325c9635c0c79d37ae1095c4", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}]}